<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Percentage Calculator</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <style>
    .container {
        border: 1px solid #aaa;
        width: 75%;
        margin-top: 30px;
        padding: 20px;
        border-radius: 10px;
        font-size: 1.5em;
    }
    </style>
</head>

<body>
    <div class="container">
        <section>
            <form id="f1" action="#" class="form-inline form-group has-error">
                <fieldset class="row">
                    <div class="col-md-6 ">
                        <p>What is
                            <input class="form-control" id="f1-a" type="text" size="3">% of
                            <input class="form-control" id="f1-b" type="text" size="7">?</p>
                    </div>
                    <div class="col-md-6">
                        <button id="f1-calculate" class="form-control btn btn-primary">Calculate</button>
                        <!-- result = a / 100 * b; -->
                        <input id="f1-result" class="form-control" type="text" size="7" readonly="readonly">
                        <span class="remove">%</span>
                    </div>
                    <div class="col-md-12">
                        <p id="helpBlock1" class="help-block">Something went wrong!!!</p>
                    </div>
                </fieldset>
            </form>
            <form id="f2" action="#" class="form-group">
                <fieldset class="row">
                    <div class="col-md-6">
                        <p>
                            <input id="f2-a" type="text" size="5"> is what percent of
                            <input id="f2-b" type="text" size="5">?</p>
                    </div>
                    <div class="col-md-6">
                        <button id="f2-calculate" class="btn btn-primary">Calculate</button>
                        <!-- result = a / b * 100; -->
                        <input id="f2-result" type="text" size="7" readonly="readonly">
                        <span>%</span>
                    </div>
                </fieldset>
            </form>
            <form id="f3" action="#" class="form-group">
                <fieldset class="row">
                    <div class="col-md-6">
                        <p>What is the percentage increase/decrease
                            <br>from
                            <input id="f3-a" type="text" size="6"> to
                            <input id="f3-b" type="text" size="6">?</p>
                    </div>
                    <div class="col-md-6">
                        <button id="f3-calculate" class="btn btn-primary">Calculate</button>
                        <!-- result = (b - a) / a  * 100; -->
                        <input id="f3-result" type="text" size="7" readonly="readonly">
                        <span>%</span>
                    </div>
                </fieldset>
            </form>
            <p id="tips"><strong>Tips:</strong> Use tab to move to the next field. Use shift-tab to move to the previous field. Press enter to calculate.</p>
        </section>
    </div>
    <script src="https://code.jquery.com/jquery-2.0.3.min.js"></script>
    <script>

	var infoText = ""
    var helpBox = '<div class="col-md-12"><p id="" class="help-block">' + infoText + '</p></div>' 
    var done = "DONE. It's maths!!"
    var wrong = "Please use only numbers"

    // Resolve first operation
    $('button#f1-calculate').on('click', function () {
        var percentValue = $('#f1-a').val()
        var value = $('#f1-b').val()
        var result = value * percentValue / 100
        $('#f1-result').val(result)

	    if (!isNaN(result)) {
	        $('#helpBlock1').text(done).addClass("text-success").removeClass("help-block").removeClass("text-danger");
	    } else {
	        $('#helpBlock1').text(wrong).addClass("text-danger").removeClass("text-success").removeClass("help-block");
	    }
    })

    // Resolve second operation
    $('button#f2-calculate').on('click', function () {
        var result2 = $('#f2-a').val()
        var value2 = $('#f2-b').val()
        var  percentValue2 = result2 * 100 / value2 

        $('#f2-result').val(percentValue2)

        if (!isNaN(percentValue2)) {
    		var infoText = done
        	$('.col-md-6:last-child').after(helpBox).addClass("text-success").removeClass("text-danger")

	        //$('#helpBlock1').text(done).addClass("text-success").removeClass("help-block").removeClass("text-danger")
	    } else {
    		// var infoText = wrong
      //   	$('.col-md-6').after(helpBox).addClass("text-danger").removeClass("text-success")
	        
	        $('#helpBlock1').text(wrong).addClass("text-danger").removeClass("text-success").removeClass("help-block")
	    }
    }) 

    // Resolve third operation
    $('button#f3-calculate').on('click', function () {
        var n1 = $('#f3-a').val()
        var n2 = $('#f3-b').val()
    	if (n1 < n2) {
	        var value3 = n2 - n1
	        var  nResult = value3 / n1 * 100

        } else {
	        var value3 = n2 - n1
	        var  nResult = value3 / n2 * 100
        }
        $('#f3-result').val(nResult)

        if (!isNaN(nResult)) {
	        $('#helpBlock1').text(done).addClass("text-success").removeClass("help-block").removeClass("text-danger");
	    } else {
	        $('#helpBlock1').text(wrong).addClass("text-danger").removeClass("text-success").removeClass("help-block");
	    }
    })
    </script>
</body>

</html>
